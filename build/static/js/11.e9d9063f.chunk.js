webpackJsonp([11],{575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(606);a.d(t,"default",function(){return r.a})},606:function(e,t,a){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,s){try{var l=t[n](s),c=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.d(t,"a",function(){return b});var c=a(36),i=a.n(c),o=a(0),m=a.n(o),d=a(26),u=a(32),h=(a.n(u),a(19)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),f=function(e){function t(e){var a=this;n(this,t);var l=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.initValidation=function(){l.validationSettings={name:[l.requiredCheck,l.minlengthCheck.bind(l,2)],email:[l.requiredCheck,l.emailCheck],address1:[l.requiredCheck,l.minlengthCheck.bind(l,2)],zip:[l.requiredCheck,l.minlengthCheck.bind(l,5)],state:[l.requiredCheck,l.minlengthCheck.bind(l,2)],city:[l.requiredCheck,l.minlengthCheck.bind(l,2)],phone:[l.requiredCheck,l.minlengthCheck.bind(l,9),l.checkPhone]}},l.checkPhone=function(e){var t=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;return!e.match(t)&&"Not a valid Phone Number"},l.validateField=function(e,t){var a=!1;if(void 0!==l.validationSettings[e])for(var r=0;r<l.validationSettings[e].length;r++){var n=l.validationSettings[e][r];a=a||n.call(l,t)}var s={};return s[e]=a,s},l.validateAllFields=r(i.a.mark(function e(){var t,r,n,s,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=l.props.emailUnq,r=l.state.emailReady,n=Object.assign({},l.state.formErrors),s=Object.assign({},l.state.formValues),c=!0;for(o in s)n[o]=l.validateField(o,s[o])[o],c=c&&!n[o];t||""!==s.email&&(n.email="This email already associated with an existing account"),l.setState({formErrors:n});case 8:case"end":return e.stop()}},e,a)})),l.onFormChange=function(e,t){var a=Object.assign({},l.state.formValues);a[e]=t.target.value;var r=l.validateField(e,t.target.value);l.setState({formValues:a,formErrors:r})},l.requiredCheck=function(e){return!e&&"This field is required"},l.minlengthCheck=function(e,t){return(!t||t.length<e)&&"It should be at least "+e+" characters long"},l.state={formCorrect:!0,formErrors:{},formValues:{name:"",email:"",password:"",confirmPassword:"",phone:"",address1:"",address2:"",zip:"",state:"",city:""}},l.handleFormCorrection=l.handleFormCorrection.bind(l),l.handleCheckout=l.handleCheckout.bind(l),l}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.props.isLoggedIn;if(setTimeout(function(){window.scrollTo({top:250,behavior:"smooth"})},1e3),e){var t=this.props.user,a=void 0===t?{}:t,r=a.name,n=void 0===r?"":r,s=a.city,l=void 0===s?"":s,c=a.state,i=void 0===c?"":c,o=a.zip,m=void 0===o?"":o,d=a.address1,u=void 0===d?"":d,h=a.address2,p=void 0===h?"":h,f={name:n,city:l,state:i,zip:m,address1:u,address2:p};this.setState({formValues:f})}this.initValidation()}},{key:"handleFormCorrection",value:function(){var e=this.state.formCorrect;this.setState({formCorrect:!e})}},{key:"handleCheckout",value:function(){this.props.history.push("/thank-you")}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.items,r=0;return a.map(function(e){if("undefined"===typeof e.quantity)r+=1*Number(e.price);else{var t=Number(e.price)*Number(e.quantity);r+=t}}),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"login-form page-section-ptb"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("div",{className:"section-title"},m.a.createElement("span",null,"Almost Done! "),m.a.createElement("h2",null,"Checkout"),m.a.createElement("div",{className:"separator"})))),m.a.createElement("form",{className:"needs-validation",noValidate:!0},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6 order-md-2 mb-4"},m.a.createElement("h4",{className:"d-flex justify-content-between align-items-center mb-3"},m.a.createElement("span",{className:"text-muted"},"Your cart")),m.a.createElement("ul",{className:"list-group mb-3"},a.map(function(e){return m.a.createElement("li",{className:"list-group-item d-flex justify-content-between lh-condensed"},m.a.createElement("div",null,m.a.createElement("h6",{className:"my-0"},"Product name"),m.a.createElement("small",{className:"text-muted"},"Brief description")),m.a.createElement("span",{className:"text-muted"},"$12"))}),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between lh-condensed"},m.a.createElement("div",null,m.a.createElement("h6",{className:"my-0"},"Second product"),m.a.createElement("small",{className:"text-muted"},"Brief description")),m.a.createElement("span",{className:"text-muted"},"$8")),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between lh-condensed"},m.a.createElement("div",null,m.a.createElement("h6",{className:"my-0"},"Third item"),m.a.createElement("small",{className:"text-muted"},"Brief description")),m.a.createElement("span",{className:"text-muted"},"$5")),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},m.a.createElement("span",null,"Total (USD)"),m.a.createElement("strong",null,"$"+r))),m.a.createElement("hr",{className:"mb-4"}),m.a.createElement("h4",{className:"mb-3"},"Payment"),m.a.createElement("div",{className:"d-block my-3"},m.a.createElement("div",{className:"custom-control custom-radio"},m.a.createElement("input",{id:"cod",name:"paymentMethod",type:"radio",className:"custom-control-input",checked:!0,required:!0}),m.a.createElement("label",{className:"custom-control-label",htmlFor:"cod"},"Pay Directly on eBay")),m.a.createElement("div",{className:"custom-control custom-radio"},m.a.createElement("input",{id:"debit",name:"paymentMethod",type:"radio",className:"custom-control-input",required:!0}),m.a.createElement("label",{className:"custom-control-label",htmlFor:"debit"},"Debit card")),m.a.createElement("div",{className:"custom-control custom-radio"},m.a.createElement("input",{id:"paypal",name:"paymentMethod",type:"radio",className:"custom-control-input",required:!0}),m.a.createElement("label",{className:"custom-control-label",htmlFor:"paypal"},"Paypal"))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"cc-name"},"Name on card"),m.a.createElement("input",{type:"text",className:"form-control input-text",id:"cc-name",placeholder:"",required:!0}),m.a.createElement("small",{className:"text-muted"},"Full name as displayed on card"),m.a.createElement("div",{className:"invalid-feedback"},"Name on card is required")),m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"cc-number"},"Credit card number"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control input-text",id:"cc-number",placeholder:"xxxx-xxxx-xxxx-xxxx",value:this.state.formValues.ccNumber,onChange:this.onFormChange.bind(this,"ccNumber"),valid:!this.state.formErrors.ccNumber,errorMessage:this.state.formErrors.ccNumber})),m.a.createElement("div",{className:"invalid-feedback"},"Credit card number is required"))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"cc-expiration"},"Expiration"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control input-text",placeholder:"",value:this.state.formValues.ccExp,onChange:this.onFormChange.bind(this,"ccExp"),valid:!this.state.formErrors.ccExp,errorMessage:this.state.formErrors.ccExp,id:"cc-expiration"}))),m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"cc-expiration"},"CVV"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control input-text",placeholder:"",value:this.state.formValues.cvv,onChange:this.onFormChange.bind(this,"cvv"),valid:!this.state.formErrors.cvv,errorMessage:this.state.formErrors.cvv,id:"cc-cvv"})),m.a.createElement("div",{className:"invalid-feedback"},"Security code required"))),m.a.createElement("hr",{className:"mb-4"}),m.a.createElement("button",{className:"button cart_btn btn-lg btn-block",onClick:this.handleCheckout,type:"submit"},"Continue to checkout")),m.a.createElement("div",{className:"col-md-6 order-md-1"},m.a.createElement("div",{className:"checkoutSwitch"},m.a.createElement("h4",{className:"mb-3"},"Billing address"),t&&m.a.createElement(u.Switch,{checked:this.state.formCorrect,onChange:this.handleFormCorrection},"Correct Address for Delivery?",m.a.createElement("span",{className:"mbsc-desc"},"Switch to update address"))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"firstName"},"First name"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control input-text",placeholder:"",value:this.state.formValues.firstName,onChange:this.onFormChange.bind(this,"firstName"),valid:!this.state.formErrors.firstName,errorMessage:this.state.formErrors.firstName})),m.a.createElement("div",{className:"invalid-feedback"},"Valid first name is required.")),m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"lastName"},"Last name"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control input-text",placeholder:"",value:this.state.formValues.lastName,onChange:this.onFormChange.bind(this,"lastName"),valid:!this.state.formErrors.lastName,errorMessage:this.state.formErrors.lastName})),m.a.createElement("div",{className:"invalid-feedback"},"Valid last name is required."))),m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"company"},"Company",m.a.createElement("span",{className:"text-muted"},"(Optional)")),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control",placeholder:"",value:this.state.formValues.company,onChange:this.onFormChange.bind(this,"company"),errorMessage:this.state.formErrors.company})),m.a.createElement("div",{className:"invalid-feedback"},"Please enter a valid email address for shipping updates.")),m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"address"},"Street address"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control",placeholder:"Street Address",value:this.state.formValues.address1,onChange:this.onFormChange.bind(this,"address1"),valid:!this.state.formErrors.address1,errorMessage:this.state.formErrors.address1,id:"address2"})),m.a.createElement("div",{className:"invalid-feedback"},"Please enter your shipping address.")),m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"address2",className:"sr-only"},"Address 2",m.a.createElement("span",{className:"text-muted"},"(Optional)")),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control",placeholder:"Apartment, suite, unit etc. (optional)",value:this.state.formValues.address2,onChange:this.onFormChange.bind(this,"address2"),valid:!this.state.formErrors.address2,errorMessage:this.state.formErrors.address2,id:"address2"}))),m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"towncity"}," City / Town"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control",placeholder:"City",value:this.state.formValues.city,onChange:this.onFormChange.bind(this,"city"),valid:!this.state.formErrors.city,errorMessage:this.state.formErrors.city,id:"city"})),m.a.createElement("div",{className:"invalid-feedback"},"Please select a valid City.")),m.a.createElement("div",{className:" mb-3"},m.a.createElement("label",{htmlFor:"zip"},"Zip"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"text",className:"form-control",placeholder:"Zip",value:this.state.formValues.zip,onChange:this.onFormChange.bind(this,"zip"),valid:!this.state.formErrors.zip,errorMessage:this.state.formErrors.zip,id:"city"})),m.a.createElement("div",{className:"invalid-feedback"},"zip  required.")),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"Phone"},"Phone "),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"tel",placeholder:"Phone Number",iconUpload:"phone",className:"form-control",value:this.state.formValues.phone,onChange:this.onFormChange.bind(this,"phone"),valid:!this.state.formErrors.phone,errorMessage:this.state.formErrors.phone})),m.a.createElement("div",{className:"invalid-feedback"},"Valid Phone is required.")),m.a.createElement("div",{className:"col-md-6 mb-3"},m.a.createElement("label",{htmlFor:"Emailaddress"},"Email address"),m.a.createElement("div",{className:"hybridInput-account"},m.a.createElement(u.Input,{type:"email",className:"form-control",value:this.state.formValues.email,onChange:this.onFormChange.bind(this,"email"),valid:!this.state.formErrors.email,errorMessage:this.state.formErrors.email,onBlur:this.checkEmailAvail,placeholder:"Email",icon:"ion-ios7-email"})),m.a.createElement("div",{className:"invalid-feedback"},"Please enter a valid email address for shipping updates."))),m.a.createElement("hr",{className:"mb-4"}),m.a.createElement("h4",{className:"mb-3"},"Additional information"),m.a.createElement("div",{className:" mb-3"},m.a.createElement("label",{htmlFor:"Ordernotes"},"Order notes"),m.a.createElement("textarea",{className:"form-control textarea-text",id:"Ordernotes",placeholder:"Order notes"}))))))))}}]),t}(o.Component),E=function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user,items:e.cart.addedItems}},v=function(e){return{logout:function(){return e(Object(h.Y)())}}},b=Object(d.b)(E,v)(f)}});
//# sourceMappingURL=11.e9d9063f.chunk.js.map